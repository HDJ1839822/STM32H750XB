# 项目记录

## 环境搭建：

- 硬件平台：STM32H750XBH6
- 开发环境：STM32CubeMX V6.8.1+KEIL V5.28.0.0
- STM32H750固件版本：package V1.11.0（使用较高版本时钟频率无法配置到最大）
- 仿真下载驱动：ST-Link



# 1.Cubemx配置时钟频率&时钟基准&生成项目模板&测试时基

## 使用外部晶振

![image-20230706101251074](pic/image-20230706101251074.png)

## 将STM32H7 修订版为v才能设置最大480M频率![image-20230706121859993](pic/image-20230706121859993.png)

## 时钟配置（配置最大为480Mhz）![image-20230706122152858](pic/image-20230706122152858.png)

## 使用基本定时器作为时基（节省资源）![image-20230706122354724](pic/image-20230706122354724.png)

## 模板点灯

![image-20230706122535076](pic/image-20230706122535076.png)![image-20230706123053775](pic/image-20230706123053775.png)

## 生成工程(不能有中文路径，会报错)![image-20230706123407980](pic/image-20230706123407980.png)

![image-20230706123526223](pic/image-20230706123526223.png)

## 烧录验证(加入以下代码烧录)



![image-20230706124424678](pic/image-20230706124424678.png)

## 验证成功（两个LED都打开）

![image-20230706124658645](pic/image-20230706124658645.png)

## 验证时基（在stm32h7xx_it.c加入以下代码）

cubemx配置PB2输出并加入以下代码

![image-20230706130126648](pic/image-20230706130126648.png)

## 烧录验证

从示波器上可以看到进入中断的时间是1ms,实际上大多数MCU提供的时钟基准都是1ms

![image-20230706131115884](pic/image-20230706131115884.png)

![image-20230706130714154](pic/image-20230706130714154.png)





## 实用技巧清除编译文件

编译后的文件大小

![image-20230706131500162](pic/image-20230706131500162.png)

## 加入清除文件脚本    并运行

![image-20230706131841437](pic/image-20230706131841437.png)



## 运行后的文件大小如下

![image-20230706132040148](pic/image-20230706132040148.png)

